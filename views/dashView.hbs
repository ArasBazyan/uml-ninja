<!DOCTYPE html>
<html lang="en">
<head>
    <title>Documentation Ninja</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.5">
    <script src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
    <script src="https://canvasjs.com/assets/script/jquery.canvasjs.min.js"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/css/dash.css">
    <link rel="stylesheet" type="text/css" href="/css/balloon.css">
</head>
<body>
<div class="container-fluid">
    <div style="display:none" class="fireworks">
        <div class="before"></div>
        <div class="after"></div>
    </div>
    <div class="flex-container">
        <div>
            <i class="fa fa-github-alt"></i>
            <p>Repository </p>
            <a id="repoName"></a>
        </div>
         <div>
            <i class="fa fa-github"></i>
            <p>Github API link: </p>
            <a id="apiLink"></a>
        </div>
        <div>
            <i class="fa fa-users"></i>
            <p> Number of contributors:</p>
            <a id="contributorsLink"></a>
        </div>
        <div>
            <i class="fa fa-language"></i>
            <!-- This is not taken from DB. Only for UI -->
            <p> Main programming languages:<br><b>Java, C++</b></p>
        </div>
    </div>

            <!--  Dashboard text
            <div style="margin: 5px auto; padding: 10px;"  class="well">
                <h4> Dashboard </h4>
                <p> Information about repository <b>{{ data.ProjectName }}</b></p>
                <p> Number of contributors: <b> {{  data.Contributers }} </b></p>
                <p> Github API link: <b><a href="{{ data.ProjectUrl }}">{{ data.ProjectUrl }}</a></b> </p>
            </div> -->

    <div class="row row-fluid">

    <!-- Score column style="text-align: center; width: 300px; min-height: 400px" -->
        <div class="smallColumn" >
            <div>
                <img style="margin-top: 15px;" src="/img/github.gif"  class="center" alt=ninja.png height="140" width="175">
            </div>
            <div class="scores">
                <div data-balloon="Based on Overall Score" data-balloon-pos="up" >
                    The level of your project is...
                </div>
                <h1 id="projectLevel"></h1>
                <div id="projectLevelRange"></div>
                <hr>
                <div data-balloon="Documentation and UML Level scores combined" data-balloon-pos="up" >
                    Overall Score
                    <h4 id="score"></h4>
                    <h1 id="OScorePercentage"></h1>
                </div>
                <hr>
                <div data-balloon="Combined Level scores for UML indicators only" data-balloon-pos="up">
                    UML Score
                    <h4 id="umlScore"></h4>
                    <h1 id="umlScorePercentage"></h1>
                </div>
            </div>
            <hr>
            <p>Share this dashboard on social media</p>
            <div style="font-size: 1.5em">
                <!-- Facebook -->
                <a class="fbSharelink" style="color: #1867af; cursor: pointer"  data-shareurl=""><i class="fa fa-facebook-square"></i></a>
                <!-- Twitter -->
                <a style="padding-right: 30px; "></a>
                <a class="twitterShareLink" style="color: #1867af; cursor:pointer; margin-right: 10px"><i class="fa fa-twitter-square"></i></a>
            </div>
        </div>
        <div class="bigCollumn">
            <div class="row">
                <div class="column">
                    <h3> Documentation Process </h3>
                    <div class="row marketing">
                        <div class="jumbotron">
                            <div class="table-responsive">
                                <table class="table tablesorter">
                                    <thead>
                                    <tr>
                                        <th><h4>Level up</h4></th>
                                        <th class="col-md-5"><h4>Level</h4></th>
                                    </tr>
                                    </thead>
                                    <tbody id="doc-process-table">
                                    <td> <a style="cursor: pointer"  data-toggle="modal" data-target="#doc-process-version-control-info">Version Control</a></td>
                                    <td>
                                        <label>
                                            <i id="versionControlled" style="display: none; font-size: 40px; color: green" class="fa fa-check-circle"></i>
                                            <i id="notVerionControlled" style="display: none; font-size: 40px; color: darkred" class="fa fa-times-circle"></i>
                                        </label>
                                    </td>
                                    </tbody>
                                </table>
                            </div>
                            <label>

                            </label>
                        </div>
                    </div>
                </div>

                <div class="column">
                    <h3> Documentation Content </h3>
                    <div class="row marketing">
                        <div class="jumbotron">
                            <div class="table-responsive">
                                <table class="table tablesorter">
                                    <thead>
                                    <tr>
                                        <th><h4>Level up</h4></th>
                                        <th class="col-md-5"><h4>Level</h4></th>
                                    </tr>
                                    </thead>
                                    <tbody id="doc-content-table">
                                    <td> <a style="cursor: pointer" data-toggle="modal" data-target="#doc-content-editable-info">Document Editable</a></td>
                                    <td>
                                        <label>
                                            <i id="docEditable" style="display: none; font-size: 40px; color: green" class="fa fa-check-circle"></i>
                                            <i id="notEditable" style="display: none; font-size: 40px; color: darkred" class="fa fa-times-circle"></i>
                                        </label>
                                    </td>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row row-fluid">
                <div class="column">
                    <h3> UML Process </h3>
                    <div class="row marketing">
                        <div class="jumbotron">
                            <div class="table-responsive">
                                <table class="table tablesorter">
                                    <thead>
                                    <tr>
                                        <th><h4>Level up</h4></th>
                                        <th class="col-md-5"><h4>Level</h4></th>
                                    </tr>
                                    </thead>
                                    <tbody id="uml-process-table">
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="column">
                    <h3> UML Content </h3>
                    <ul class="nav nav-tabs">
					    <li class="active"><a data-toggle="tab" href="#ovTab">Overview</a></li>
					    <li><a data-toggle="tab" href="#cdTab">Class Diagram</a></li>
				  	</ul>

					<div class="tab-content">
					    <div id="ovTab" class="tab-pane fade in active">
				         	<div class="row marketing">
		                        <div class="jumbotron">
		                            <div class="table-responsive">
		                                <table class="table tablesorter">
		                                    <thead>
		                                    <tr>
		                                        <th><h4>Type of Diagram</h4></th>
		                                        <th class="col-md-5"><h4>Contains</h4></th>
		                                    </tr>
		                                    </thead>
		                                    <tbody id="uml-content-table">
		                                    </tbody>
                                            <tr>
                                                <td> <a data-toggle="tab" href="#cdTab">Class Diagram</a></td>
                                                <td>
                                                    <label>
                                                        <i id="containsCD" style="display: none; font-size: 40px; color: green" class="fa fa-check-circle"></i>
                                                        <i id="notContainsCD" style="display: none; font-size: 40px; color: darkred" class="fa fa-times-circle"></i>
                                                        <a  data-toggle= "modal" data-target="#img-cd" id="cdModalLink" style=" display: none; font-size: 32px; margin-left: 15px" class="fa fa-image">
                                                        </a>


                                                    </label>
                                                </td>
                                            </tr>
                                            <tr>
                                            <td><a>Sequence Diagram</a></td>
                                            <td>
                                                <label>
                                                    <i id="containsSD" style="display: none; font-size: 40px; color: green" class="fa fa-check-circle"></i>
                                                    <i id="notContainsSD" style="display: none; font-size: 40px; color: darkred" class="fa fa-times-circle"></i>
                                                </label>
                                            </td>
                                            </tr>
                                            <tr>
                                                <td><a>Activity Diagram</a></td>
                                                <td>
                                                    <label>
                                                        <i id="containsAD" style="display: none; font-size: 40px; color: green" class="fa fa-check-circle"></i>
                                                        <i id="notContainsAD" style="display: none; font-size: 40px; color: darkred" class="fa fa-times-circle"></i>
                                                    </label>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td><a>Use Case Diagram</a></td>
                                                <td>
                                                    <label>
                                                        <i id="containsUD" style="display: none; font-size: 40px; color: green" class="fa fa-check-circle"></i>
                                                        <i id="notContainsUD" style="display: none; font-size: 40px; color: darkred" class="fa fa-times-circle"></i>
                                                    </label>
                                                </td>
                                            </tr>
		                                </table>
		                            </div>
		                        </div>
		                    </div>
					    </div>

					    <div id="cdTab" class="tab-pane fade">
					      <div class="row marketing">
                                <div class="jumbotron">
                                    <div class="table-responsive">
                                        <table class="table tablesorter">
                                            <thead>
                                            <tr>
                                                <th><h4>Level up </h4></th>
                                                <th class="col-md-5"><h4>Level</h4></th>
                                            </tr>
                                            </thead>
                                            <tbody id="uml-content-table-cd">
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
					    </div>
				    </div>
                </div>
            </div>
        </div>
    </div>

            <!-- MODAL - Commit Ratio INFO -->
            <div class="modal fade" id="uml-commit-ratio-info" role="dialog">
               <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content modal-content-size">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">UML Commit Ratio Indicator</h4>
                        </div>
                        <div class="modal-body modal-body-size">
                            <ul>
                                <li> <h5> Commit Ratio info: </h5>
                                    <p>This indicator shows the ratio between UML commits to all commits made in the project. The purpose of this indicator is to show the frequency of UML documentation updates in compare to code updates.<br>
                                    </p>
                                </li>
                                <li> <h5> Data collection: </h5>
                                    <p>The data is collected using GitHub commit history. The UML commit data is collected using Commit comments. A commit is counted as UML commit if the commit comment includes words such as UML, UML diagram, UML changes, class diagram changes etc.
                                    </p>
                                </li>
                                <li> <h5> Data analysis: </h5>
                                    <p>The data is turned into ratio between UML commits and all commits, and the ratio is between 0-1.
                                    </p>
                                </li>
                                <li> <h5> Level: </h5>
                                    <p>The levels are calculated by analysing the ratio data and translating it to a 1-5 scale. The levels are calculated as follows:
                                    </p>
                                    <ul>
                                        <li>0.0 - =<0.2 = Level 1</li>
                                        <li>0.2 - =<0.4 = Level 2 </li>
                                        <li>0.4 - =<0.6 = Level 3 </li>
                                        <li>0.6 - =<0.8 = Level 4 </li>
                                        <li>0.8 - =<1.0 = Level 5 </li>
                                    </ul>
                                </li>
                                <li> <h5> How to Level Up: </h5>
                                    <p>The larger the ratio between UML commits and all commit the higher the level is, that is, to level up, the project contributors are supposed to update the UML document with design changes.
                                    </p>
                                </li>
                                <br>
                                <li> <h4> It should be noted that:</h4>
                                    <ul>
                                        <li> Software Development Methodology matters. For example, if the project follows Waterfall process, the UML document might be documented at the start of the project and not be updated very often later in the project. On the other hand, if the software development methodology is Agile, the document might be updated more frequently.
                                            UML Ninja does not have access to that data as for now. All projects are analysed equally.
                                        </li>
                                        <li>
                                            It could be that all the UML and architecture design decisions are documented at the start of the project and the document is not updated throughout the process.
                                        </li>
                                        <li>
                                            The size of the project matters. For example, projects that have 1 developer only and/or a few commits may have Level 5 for the indicator, but that does not necessarily mean the documentation practice is followed accordingly.
                                        </li>
                                        <li>The analysis is done on the models, and not the code. UML Ninja does not check the Model-Code differences, yet.
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>


            <!-- MODAL - Commit Ratio DETAIL-->
            <div class="modal fade" id="uml-commit-ratio-detail" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">UML Commit Ratio</h4>
                        </div>
                        <div class="modal-body">
                            <div id="chartContainer" style="height: 370px; width: 100%;"></div>
                            <br>
                            <br>
                            <h4 id="commitRatio" >UML Commit Ratio </h4>
                        </div>
                        <div class="modal-footer">
                        </div>
                    </div>
                </div>
            </div>



            <!-- MODAL Doc Process - Document Commit Ratio -  DETAIL-->
            <div class="modal fade" id="document-commit-ratio-detail" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">Document Commit Ratio</h4>
                        </div>
                        <div class="modal-body">
                            <div id="docCommitRatioChartContainer" style="height: 370px; width: 100%;"></div>
                            <br>
                            <br>
                            <h4 id="docCommitRatio" >Document Commit Ratio </h4>
                        </div>
                        <div class="modal-footer">
                        </div>
                    </div>
                </div>
            </div>



            <!-- MODAL Doc Process - Document Contribution Ratio -  DETAIL-->
            <div class="modal fade" id="document-contributor-ratio-detail" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">Document Contributor Ratio</h4>
                        </div>
                        <div class="modal-body">
                            <div id="docContributionChartContainer" style="height: 370px; width: 100%;"></div>
                            <br>
                            <br>
                            <h4 id="docContributionRatio" >Document Contributor Ratio </h4>
                        </div>
                        <div class="modal-footer">
                        </div>
                    </div>
                </div>
            </div>




            <!-- MODAL UML Process - UML Contribution Ratio -  DETAIL-->
            <div class="modal fade" id="uml-contributor-ratio-detail" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">UML Contributor Ratio</h4>
                        </div>
                        <div class="modal-body">
                            <div id="umlContributionChartContainer" style="height: 370px; width: 100%;"></div>
                            <br>
                            <br>
                            <h4 id="umlContributionRatio" >UML Contributor Ratio </h4>
                        </div>
                        <div class="modal-footer">
                        </div>
                    </div>
                </div>
            </div>



            <!-- MODAL - Doc Evolution INFO -->
            <div class="modal fade" id="document-evolution-info" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content modal-content-size">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">Document Evolution Indicator</h4>
                        </div>
                        <div class="modal-body modal-body-size">
                            <ul>
                                <li> <h5> Document Evolution Info:</h5>
                                    <p>This indicator shows the ratio between UML document updates and the size of the document.
                                        The purpose of this indicator is to show the evolution of the UML document, that is, to show how the document has evolved considering the number of UML document update commits.
                                    </p>
                                </li>
                                <li> <h5> Data collection: </h5>
                                    <p>The data is collected using UML commits and the size of the UML document at the point where the project is being evaluated. The size of the document is measured in Megabytes.
                                    </p>
                                </li>
                                <li> <h5> Data analysis: </h5>
                                    <p>The data is turned into a ratio between UML commits and the size of the document, and the ratio is between 0-1.
                                    </p>
                                </li>
                                <li> <h5> Level: </h5>
                                    <p>The levels are calculated by analysing the ratio data and translating it to a 1-5 scale, where level 1 is the lowest level and level 5 is the highest level. The level measures how the document has evolved based the number of UML commits.
                                        The levels are calculated as follows:
                                    </p>
                                    <ul>
                                        <li>0.0 - =<0.2 = Level 1</li>
                                        <li>0.2 - =<0.4 = Level 2 </li>
                                        <li>0.4 - =<0.6 = Level 3 </li>
                                        <li>0.6 - =<0.8 = Level 4 </li>
                                        <li>0.8 - =<1.0 = Level 5 </li>
                                    </ul>
                                </li>
                                <li> <h5> How to Level Up: </h5>
                                    <p>The level measures document evolution based on UML document updates. The larger the ratio the higher the level is. To level up the project, the document is expected to evolve in accordance to the number of UML document updates.
                                    </p>
                                </li>
                                <br>
                                <li> <h4> It should be noted that:</h4>
                                    <ul>
                                        <li> Software Development Methodology matters. For example, if the project follows Waterfall process, the UML document might be documented at the start of the project and not be updated very often later in the project. On the other hand, if the software development methodology is Agile, the document might be updated more frequently.
                                            UML Ninja does not have access to that data as for now. All projects are analysed equally.
                                        </li>
                                        <li>
                                            It could be that all the UML and architecture design decisions are documented at the start of the project and the document is not updated throughout the process. UML Ninja
                                        </li>
                                        <li>
                                            The size of the project matters. For example, projects that have 1 developer only and/or a few commits may have Level 5 for the indicator, but that does not necessarily mean the documentation practice is followed accordingly.
                                        </li>
                                        <li>The analysis is done on the models, and not the code. UML Ninja does not check the Model-Code differences, yet.
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- MODAL - Doc Evolution DETAIL -->
            <div class="modal fade" id="document-evolution-detail" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">Document Evolution</h4>
                        </div>
                        <div class="modal-body">
                            <div id="docChartContainer" style="height: 370px; width: 100%;"></div>
                            <br>
                            <br>
                            <h4 id="docEvolution"> Doc. size ratio to UML commits </h4>
                        </div>

                    </div>
                </div>
            </div>

              <!-- MODAL - avsc DETAIL -->
            <div class="modal fade" id="avsc-detail" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">AvsC</h4>
                        </div>
                        <div class="modal-body">
                            <div id="avsc-chart" style="height: 370px; width: 100%;"></div>
                            <br>
                            <br>
                            <h4 id="avsc-chart-info"> AvsC </h4>
                        </div>
                        <div class="modal-footer">
                        </div>
                    </div>
                </div>
            </div>

              <!-- MODAL - asvsc DETAIL -->
            <div class="modal fade" id="asvsc-detail" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">ASvsC</h4>
                        </div>
                        <div class="modal-body">
                            <div id="asvsc-chart" style="height: 370px; width: 100%;"></div>
                            <br>
                            <br>
                            <h4 id="asvsc-chart-info"> ASvsC </h4>
                        </div>
                        <div class="modal-footer">
                        </div>
                    </div>
                </div>
            </div>

            <!-- MODAL - mevsc DETAIL -->
            <div class="modal fade" id="mevsc-detail" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">MevsC</h4>
                        </div>
                        <div class="modal-body">
                            <div id="mevsc-chart" style="height: 370px; width: 100%;"></div>
                            <br>
                            <br>
                            <h4 id="mevsc-chart-info"> MevsC </h4>
                        </div>
                        <div class="modal-footer">
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="appm-detail" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">APPM</h4>
                        </div>
                        <div class="modal-body">
                            <div id="appm-chart" style="height: 370px; width: 100%;"></div>
                            <br>
                            <br>
                            <h4 id="appm-chart-info"> APPM </h4>
                        </div>
                        <div class="modal-footer">
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="depvsc-detail" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">DEPvsC</h4>
                        </div>
                        <div class="modal-body">
                            <div id="depvsc-chart" style="height: 370px; width: 100%;"></div>
                            <br>
                            <br>
                            <h4 id="depvsc-chart-info"> DEPvsC </h4>
                        </div>
                        <div class="modal-footer">
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="dam-detail" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">DAM</h4>
                        </div>
                        <div class="modal-body">
                            <div id="dam-chart" style="height: 370px; width: 100%;"></div>
                            <br>
                            <br>
                            <h4 id="dam-chart-info"> DAM </h4>
                        </div>
                        <div class="modal-footer">
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="avsc-info" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content modal-content-size">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">AvsC Indicator</h4>
                        </div>
                        <div class="modal-body modal-body-size">
                            <ul>
                                <li> <h5> AvsC Indicator Info </h5>
                                    <p>The indicator is the relation between the number of attributes and
                                        number of classes in a UML Class Diagram. The indicator is defined as <br>
                                        (NAM / (NAM + NCM))^2 where NAM is the total number of attributes in the model, NCM is the total number of classes
                                        in the model, and (NAM + NCM) > 0
                                        If the value is higher, classes have more attributes and the model can be considered to be more complex. It is also possible that the model contains unnecessary
                                        information and does therefore not correspond to the modeling purpose. On the other hand, a lower value could be
                                        a hint for relevant but missing information.<br>
                                    </p>
                                </li>
                                <li> <h5> Data collection: </h5>
                                    <p>The data is collected using analysis of a UML Class Diagram pertaining to the project.
                                    </p>
                                </li>
                                <li> <h5> Data analysis: </h5>
                                    <p>The raw output is a value between 0 and 1 which is converted on a scale from 1-5.
                                    </p>
                                </li>
                                <li> <h5> Level: </h5>
                                    <p>The levels are calculated as follows:
                                    </p>
                                    <ul>
                                        <li>1.0> - 0.8 = Level 1</li>
                                        <li>0.8> - 0.6 = Level 2 </li>
                                        <li>0.6> - 0.4 = Level 3 </li>
                                        <li>0.4> - 0.2 = Level 4 </li>
                                        <li>0.2> - 0.0 = Level 5 </li>
                                    </ul>
                                  <li> <h5> How to Level Up: </h5>
                                    <p>The larger value could mean a complex diagram therefore to increase this indicator level, classes need to have fewer attributes. 
                                    </p>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="asvsc-info" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content modal-content-size">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">ASvsC Indicator</h4>
                        </div>
                        <div class="modal-body modal-body-size">
                           <ul>
                                <li> <h5> ASvsC Indicator Info </h5>
                                    <p>The indicator is the relation between the number of associations and
                                        number of classes in a UML Class Diagram. The indicator is defined as: <br>
                                        (NASM / (NASM + NCM))^2 where NASM is the total number of
                                        associations in the model, NCM is the total number of classes in the model, and (NASM + NCM) > 0.
                                        This metric is a complexity measurement for class diagrams. The worst case is when the value tends to be 0<br>
                                    </p>
                                </li>
                                <li> <h5> Data collection: </h5>
                                    <p>The data is collected using analysis of a UML Class Diagram pertaining to the project.
                                    </p>
                                </li>
                                <li> <h5> Data analysis: </h5>
                                    <p>The raw output is a value between 0 and 1 which is converted on a scale from 1-5.
                                    </p>
                                </li>
                                <li> <h5> Level: </h5>
                                    <p>The levels are calculated as follows:
                                    </p>
                                    <ul>
                                        <li>1.0> - 0.8 = Level 1</li>
                                        <li>0.8> - 0.6 = Level 2 </li>
                                        <li>0.6> - 0.4 = Level 3 </li>
                                        <li>0.4> - 0.2 = Level 4 </li>
                                        <li>0.2> - 0.0 = Level 5 </li>
                                    </ul>
                                 <li> <h5> How to Level Up: </h5>
                                    <p> Fewer associations between classes could increase the level of this indicator
                                    </p>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal fade" id="mevsc-info" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content modal-content-size">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">MEvsC Indicator</h4>
                        </div>
                        <div class="modal-body modal-body-size">
                            <ul>
                                <li> <h5> MEvsC Indicator Info </h5>
                                    <p>This indicator is the ratio between the number of methods and
                                      number of classes in a UML Class Diagram. It is defined as ( NOPM / (NOPM + NCM))^2 where NOPM is the total number of operations in the model, NCM is the total number of classes
                                      in the model <br>
                                      If the value is higher, the classes have a lot of methods (operations) and the model can be considered
                                      to be complex.<br>
                                    </p>
                                </li>
                                <li> <h5> Data collection: </h5>
                                    <p>The data is collected using analysis of a UML Class Diagram pertaining to the project.
                                    </p>
                                </li>
                                <li> <h5> Data analysis: </h5>
                                    <p>The raw output is a value between 0 and 1 which is converted on a scale from 1-5.
                                    </p>
                                </li>
                                <li> <h5> Level: </h5>
                                    <p>The levels are calculated as follows:
                                    </p>
                                    <ul>
                                        <li>1.0> - 0.8 = Level 1</li>
                                        <li>0.8> - 0.6 = Level 2 </li>
                                        <li>0.6> - 0.4 = Level 3 </li>
                                        <li>0.4> - 0.2 = Level 4 </li>
                                        <li>0.2> - 0.0 = Level 5 </li>
                                    </ul>
                                 <li> <h5> How to Level Up: </h5>
                                    <p> Fewer methods in classes could improve the indicator level.
                                    </p>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal fade" id="appm-info" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content modal-content-size">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">APPM Indicator</h4>
                        </div>
                        <div class="modal-body modal-body-size">
                            <ul>
                                <li> <h5> APPM Indicator Info </h5>
                                    <p>This indicator is the average number of parameters of all methods within the class <br>
                                      Parameters require more effort from clients, and high and low numbers of parameters imply a style of design. Lorenz and Kidd suggest 0.7 parameters per method as upper threshold.
                                    </p>
                                </li>
                                <li> <h5> Data collection: </h5>
                                    <p>The data is collected using analysis of a UML Class Diagram pertaining to the project.
                                    </p>
                                </li>
                                <li> <h5> Data analysis: </h5>
                                    <p>The raw output is a value between 0 and 1 which is converted on a scale from 1-5.
                                    </p>
                                </li>
                                <li> <h5> Level: </h5>
                                    <p>The levels are calculated as follows:
                                    </p>
                                    <ul>
                                        <li> >0.8 = Level 1</li>
                                        <li>0.2 - <0.0 = Level 2 </li>
                                        <li>0.4 - <0.2 = Level 3 </li>
                                        <li>0.6 - <0.4 = Level 4 </li>
                                        <li>0.8 - <0.6 = Level 5 </li>
                                    </ul>
                                 <li> <h5> How to Level Up: </h5>
                                    <p> Number of parameters used in methods can be decreased to get a value around 0.7 in order to receive the highest level for this indicator.
                                    </p>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal fade" id="depvsc-info" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content modal-content-size">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">DEPvsC Indicator</h4>
                        </div>
                        <div class="modal-body modal-body-size">
                           <ul>
                                <li> <h5> DEPvsC Indicator Info </h5>
                                    <p>This indicator is the relation between number of dependencies and
                                      number of classes in a UML Class Diagram. This metrics is defined as DEPvsC =
                                      (NDep / (NDep + NCM))^2 where NDep is the total number of dependencies in the model, NCM is the total number of
                                      classes in the model, and (NDep + NCM) > 0. <br>
                                      This is a complexity measurement for class diagram where the worst case is when the value tends to be 1 and the best case being when the value tends to be 0.
                                    </p>
                                </li>
                                <li> <h5> Data collection: </h5>
                                    <p>The data is collected using analysis of a UML Class Diagram pertaining to the project.
                                    </p>
                                </li>
                                <li> <h5> Data analysis: </h5>
                                    <p>The raw output is a value between 0 and 1 which is converted on a scale from 1-5.
                                    </p>
                                </li>
                                <li> <h5> Level: </h5>
                                    <p>The levels are calculated as follows:
                                    </p>
                                    <ul>
                                        <li>1.0> - 0.8 = Level 1</li>
                                        <li>0.8> - 0.6 = Level 2 </li>
                                        <li>0.6> - 0.4 = Level 3 </li>
                                        <li>0.4> - 0.2 = Level 4 </li>
                                        <li>0.2> - 0.0 = Level 5 </li>
                                    </ul>
                                 <li> <h5> How to Level Up: </h5>
                                    <p> Decrease in number of dependecies in the class diagram can help in levelling up in this indicator.
                                    </p>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal fade" id="dam-info" role="dialog">
              <div class="modal-dialog">
                  <!-- Modal content-->
                  <div class="modal-content modal-content-size">
                      <div class="modal-header">
                          <button type="button" class="close" data-dismiss="modal">&times;</button>
                          <h4 class="modal-title">DAM Indicator</h4>
                      </div>
                      <div class="modal-body modal-body-size">
                         <ul>
                              <li> <h5> DAM Indicator Info </h5>
                                  <p>This indicator is the ration between number of private and protected attributes and total number of attributes (data access metric). <br>
                                  This indicator is used to measure the encapsulation. If the value is close to 1, the encapsulation tends to be good.
                                  </p>
                              </li>
                              <li> <h5> Data collection: </h5>
                                  <p>The data is collected using analysis of a UML Class Diagram pertaining to the project.
                                  </p>
                              </li>
                              <li> <h5> Data analysis: </h5>
                                  <p>The raw output is a value between 0 and 1 which is converted on a scale from 1-5.
                                  </p>
                              </li>
                              <li> <h5> Level: </h5>
                                  <p>The levels are calculated as follows:
                                  </p>
                                  <ul>
                                      <li>0.0 - <0.2 = Level 1</li>
                                      <li>0.2 - <0.4 = Level 2 </li>
                                      <li>0.4 - <0.6 = Level 3 </li>
                                      <li>0.6 - <0.8 = Level 4 </li>
                                      <li>0.8 - <1.0 = Level 5 </li>
                                  </ul>
                               <li> <h5> How to Level Up: </h5>
                                  <p> To increase levels in this indicator, its best to have equal number of private + protected attributes when compared to the total number of attributes.
                                  </p>
                              </li>
                          </ul>
                      </div>
                    <div class="modal-footer">
                    </div>
                  </div>
              </div>
            </div>


            <!-- MODAL - Document Process Version Control INFO -->
            <div class="modal fade" id="doc-process-version-control-info" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content modal-content-size">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">Version Control Info</h4>
                        </div>
                        <div class="modal-body modal-body-size">

                            <ul>
                                <li> <h5> Process Document Version Control Info </h5>
                                    <p>This indicator checks if the document is under version control.
                                    </p>
                                </li>
                                <li> <h5> Data collection: </h5>
                                    <p>The data is collected using information on the document versions.
                                    </p>
                                </li>
                                <li> <h5> Data analysis: </h5>
                                    <p>The raw output is a boolean, True if the document is under version control and False otherwise.
                                    </p>
                                </li>
                                <li> <h5> Score </h5>
                                    <ul>
                                        <li>If the document is under version control, the project receives 2 points, otherwise no points</li>
                                        <li>If the document is under version control, the a green check appears next to the indicator,
                                            otherwise a red cross appears next to the indicator </li>

                                    </ul>
                                <li> <h5> How to get the 2 points </h5>
                                    <p> Make the project documentation under a version control system
                                    </p>
                                </li>
                            </ul>

                        </div>
                    </div>
                </div>
            </div>


                <!-- MODAL - Document Content Editable  INFO -->
                <div class="modal fade" id="doc-content-editable-info" role="dialog">
                    <div class="modal-dialog">
                        <!-- Modal content-->
                        <div class="modal-content modal-content-size">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title">Document Editable Info</h4>
                            </div>
                            <div class="modal-body modal-body-size">

                                <ul>
                                    <li> <h5> Process Document Editable Indicator </h5>
                                        <p>This indicator checks if the document is editable or not. That is, to if the document is dynamic or static.
                                            A dynamic document can be in Word or be an online document that can be edited nd updated
                                        </p>
                                    </li>
                                    <li> <h5> Data collection: </h5>
                                        <p>The data is collected using file extension, e.g. .pdf, .docx etc.
                                        </p>
                                    </li>
                                    <li> <h5> Data analysis: </h5>
                                        <p>The raw output is a boolean, True if the document is editable and False otherwise.
                                        </p>
                                    </li>
                                    <li> <h5> Score </h5>
                                        <ul>
                                            <li>If the document is editable, the project receives 2 points, otherwise no points.
                                                That is because an editable file allows updates and changes and it prevents having clone and duplicate document</li>
                                            <li>If the document is editable, then a green check appears next to the indicator,
                                                otherwise a red cross appears next to the indicator </li>
                                        </ul>
                                    <li> <h5> How to get the 2 points </h5>
                                        <p> Make the project documentation editable.
                                        </p>
                                    </li>
                                </ul>

                            </div>
                        </div>
                    </div>
                </div>


                <!-- MODAL doc Process- Document Contribution Ratio  INFO -->
                <div class="modal fade" id="document-contributor-ratio-info" role="dialog">
                    <div class="modal-dialog">
                        <!-- Modal content-->
                        <div class="modal-content modal-content-size">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title">Document Contributor Indicator</h4>
                            </div>
                            <div class="modal-body modal-body-size">

                                <ul>
                                    <li> <h5> Document Contributor Info </h5>
                                        <p>This indicator checks the ratio between members who contribute to documentation to all project contributors.
                                            The aim of this indicator is show how many percent of all members actively contribute to documentation.
                                        </p>
                                    </li>
                                    <li> <h5> Data collection: </h5>
                                        <p>The data is collected using GitHub API, to gather number of project contributors and people who update the documentation.
                                        </p>
                                    </li>
                                    <li> <h5> Data analysis: </h5>
                                        <p>The data is turned into ratio between document contributors to all project members, and the ratio is between 0-1.
                                        </p>
                                    </li>
                                    <li> <h5> Level: </h5>
                                        <p>The levels are calculated by analysing the ratio data and translating it to a 1-5 scale. The levels are calculated as follows:
                                        </p>
                                        <ul>
                                            <li>0.0 - =<0.2 = Level 1</li>
                                            <li>0.2 - =<0.4 = Level 2 </li>
                                            <li>0.4 - =<0.6 = Level 3 </li>
                                            <li>0.6 - =<0.8 = Level 4 </li>
                                            <li>0.8 - =<1.0 = Level 5 </li>
                                        </ul>
                                    </li>
                                    <li> <h5> How to Level Up: </h5>
                                        <p>The larger the ratio the higher the level is, that is, to level up, more of the the project contributors are expected to update documentation.
                                        </p>
                                    </li>
                                    <br>
                                    <li> <h4> It should be noted that:</h4>
                                        <ul>
                                            <li> Software Development Methodology matters. For example, if the project follows Waterfall process, the UML document might be documented at the start of the project and not be updated very often later in the project. On the other hand, if the software development methodology is Agile, the document might be updated more frequently.
                                                UML Ninja does not have access to that data as for now. All projects are analysed equally.
                                            </li>
                                            <li>
                                                It could be that all the UML and architecture design decisions are documented at the start of the project and the document is not updated throughout the process.
                                            </li>
                                            <li>
                                                The size of the project matters. For example, projects that have 1 developer only and/or a few commits may have Level 5 for the indicator, but that does not necessarily mean the documentation practice is followed accordingly.
                                            </li>
                                            <li>The analysis is done on the models, and not the code. UML Ninja does not check the Model-Code differences, yet.
                                            </li>
                                        </ul>
                                    </li>
                                </ul>

                            </div>
                        </div>
                    </div>
                </div>


                <!-- MODAL UML Process- UML Contribution Ratio  INFO -->
                <div class="modal fade" id="uml-contributor-ratio-info" role="dialog">
                    <div class="modal-dialog">
                        <!-- Modal content-->
                        <div class="modal-content modal-content-size">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title">UML Contributor Indicator</h4>
                            </div>
                            <div class="modal-body modal-body-size">

                                <ul>
                                    <li> <h5> UML Contributor Info </h5>
                                        <p>This indicator checks the ratio between members who contribute to UML to all project contributors.
                                            The aim of this indicator is show how many percent of all members actively contribute to UML documentation.
                                        </p>
                                    </li>
                                    <li> <h5> Data collection: </h5>
                                        <p>The data is collected using GitHub API, to gather number of project contributors and people who update the UML diagrams.
                                        </p>
                                    </li>
                                    <li> <h5> Data analysis: </h5>
                                        <p>The data is turned into ratio between UML contributors to all project members, and the ratio is between 0-1.
                                        </p>
                                    </li>
                                    <li> <h5> Level: </h5>
                                        <p>The levels are calculated by analysing the ratio data and translating it to a 1-5 scale. The levels are calculated as follows:
                                        </p>
                                        <ul>
                                            <li>0.0 - =<0.2 = Level 1</li>
                                            <li>0.2 - =<0.4 = Level 2 </li>
                                            <li>0.4 - =<0.6 = Level 3 </li>
                                            <li>0.6 - =<0.8 = Level 4 </li>
                                            <li>0.8 - =<1.0 = Level 5 </li>
                                        </ul>
                                    </li>
                                    <li> <h5> How to Level Up: </h5>
                                        <p>The larger the ratio the higher the level is, that is, to level up, more of the the project contributors are expected to update UML diagrams.
                                        </p>
                                    </li>
                                    <br>
                                    <li> <h4> It should be noted that:</h4>
                                        <ul>
                                            <li> Software Development Methodology matters. For example, if the project follows Waterfall process, the UML document might be documented at the start of the project and not be updated very often later in the project. On the other hand, if the software development methodology is Agile, the document might be updated more frequently.
                                                UML Ninja does not have access to that data as for now. All projects are analysed equally.
                                            </li>
                                            <li>
                                                It could be that all the UML and architecture design decisions are documented at the start of the project and the document is not updated throughout the process.
                                            </li>
                                            <li>
                                                The size of the project matters. For example, projects that have 1 developer only and/or a few commits may have Level 5 for the indicator, but that does not necessarily mean the documentation practice is followed accordingly.
                                            </li>
                                            <li>The analysis is done on the models, and not the code. UML Ninja does not check the Model-Code differences, yet.
                                            </li>
                                        </ul>
                                    </li>
                                </ul>

                            </div>
                        </div>
                    </div>
                </div>


                <!-- MODAL - Commit Ratio INFO -->
                <div class="modal fade" id="document-commit-ratio-info" role="dialog">
                    <div class="modal-dialog">
                        <!-- Modal content-->
                        <div class="modal-content modal-content-size">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title">Document Commit Ratio Indicator</h4>
                            </div>
                            <div class="modal-body modal-body-size">
                                <ul>
                                    <li> <h5> Document Commit Ratio info: </h5>
                                        <p>This indicator shows the ratio between Document commits to all commits made in the project.<br>
                                        </p>
                                    </li>
                                    <li> <h5> Data collection: </h5>
                                        <p>The data is collected using GitHub commit history. The document commit data is collected using Commit comments. A commit is counted as document commit if the commit comment includes words such as documentation update, documentation, document change etc.
                                        </p>
                                    </li>
                                    <li> <h5> Data analysis: </h5>
                                        <p>The data is turned into ratio between Document commits and all commits, and the ratio is between 0-1.
                                        </p>
                                    </li>
                                    <li> <h5> Level: </h5>
                                        <p>The levels are calculated by analysing the ratio data and translating it to a 1-5 scale. The levels are calculated as follows:
                                        </p>
                                        <ul>
                                            <li>0.0 - =<0.2 = Level 1</li>
                                            <li>0.2 - =<0.4 = Level 2 </li>
                                            <li>0.4 - =<0.6 = Level 3 </li>
                                            <li>0.6 - =<0.8 = Level 4 </li>
                                            <li>0.8 - =<1.0 = Level 5 </li>
                                        </ul>
                                    </li>
                                    <li> <h5> How to Level Up: </h5>
                                        <p>The larger the ratio between document commits and all commit, the higher the level is, that is, to level up, the project contributors are supposed to update the UML document with design changes.
                                        </p>
                                    </li>
                                    <br>
                                    <li> <h4> It should be noted that:</h4>
                                        <ul>
                                            <li> Software Development Methodology matters. For example, if the project follows Waterfall process, the UML document might be documented at the start of the project and not be updated very often later in the project. On the other hand, if the software development methodology is Agile, the document might be updated more frequently.
                                                UML Ninja does not have access to that data as for now. All projects are analysed equally.
                                            </li>
                                            <li>
                                                It could be that all the UML and architecture design decisions are documented at the start of the project and the document is not updated throughout the process.
                                            </li>
                                            <li>
                                                The size of the project matters. For example, projects that have 1 developer only and/or a few commits may have Level 5 for the indicator, but that does not necessarily mean the documentation practice is followed accordingly.
                                            </li>
                                            <li>The analysis is done on the models, and not the code. UML Ninja does not check the Model-Code differences, yet.
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- MODAL IMAGE - Class Diagram  -->
                <div class="modal fade" id="img-cd" role="dialog">
                    <div class="modal-dialog">
                        <!-- Modal content-->
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title">Evaluated Class Diagram</h4>
                            </div>
                            <div style="text-align: center" class="modal-body">
                                <img id="cdImg" width="575">
                                <hr>
                                <a id="cdLink">Image Link</a>
                            </div>
                            <div class="modal-footer">
                            </div>
                        </div>
                    </div>
                </div>
    </div>
</body>
<script>
var indicatorEnum = {
  UML_PROCESS: 'uml-process-table',
  UML_CONTENT: 'uml-content-table',
  UML_CONTENT_CD: 'uml-content-table-cd',
  UML_CONTENT_SC: 'uml-content-table-sc',
  DOC_PROCESS: 'doc-process-table',
  DOC_CONTENT: 'doc-content-table'
};

var umlProcessIndicators = [];
var umlContentIndicators = [];
var docProcessIndicators = [];
var docContentIndicators = [];
var umlContentIndicatorsCD = [];
var umlContentIndicatorsSC = [];

function Indicator(name,value,minVal,maxVal,type){
  this.name = name;
  this.value = value;
  this.minVal = minVal;
  this.maxVal = maxVal;
  this.type = type;

  this.longName = function(){
    if (this.name == "AvsC") return "Attributes vs Class";
    else if (this.name == "ASvsC") return "Associations vs Class";
    else if (this.name == "MevsC") return "Methods vs Class";
    else if (this.name == "APPM") return "Average Parameters per Method";
    else if (this.name == "DEPvsC") return "Dependencies vs Class";
    else if (this.name == "DAM") return "Data Access Metrics";

    else return this.name;
  }
  this.infoLink = function(){
    return this.name.replace(/\W+/g, '-').toLowerCase() + "-info";
  }

  this.detailLink = function(){
    return this.name.replace(/\W+/g, '-').toLowerCase() + "-detail";
  }

  this.adjustedValue = function(){
      if (this.name == "UML Commit Ratio" || this.name == "Document Evolution" || this.name == "Document Commit Ratio" ) {
        if (this.value >= 0 && this.value <= 0.2){
        return 1;
      }
      if (this.value > 0.2 && this.value <= 0.4){
        return 2;
      }
      if (this.value > 0.4 && this.value <= 0.6){
        return 3;
      }
      if (this.value > 0.6 && this.value <= 0.8){
        return 4;
      }
      if (this.value > 0.8){
        return 5;
      }
      else {
        return 0;
      }
    }

    else {
      var newValue = ((value - minVal) / (maxVal - minVal)) * 5;
      if (newValue < 0.5) {
        return 1;
      }
      else if (newValue > 5 && this.name == "APPM") {
        return 1; 
      }
      else return Math.round(newValue);
    }
  }

  this.update = function(property,updatedValue){
    switch (property){
      case "name":
        this.name = updatedValue;
        break;

      case "value":
        this.value = updatedValue;
        break;

      case "minVal":
        this.minVal = updatedValue;
        break;

      case "maxVal":
        this.maxVal = updatedValue;
        break;

      case "type":
        this.type = updatedValue;
        break;

      default:
        Console.log("Property name " + property + " does not exist in Indicators");
    }
  }
}

// Maybe dont even need to have 2 arrays for each separate indicator type as type is already stored.
function addIndicator (name,value,minVal,maxVal,type){
  var x = new Indicator(name,value,minVal,maxVal,type);
  switch(type){
    case indicatorEnum.UML_PROCESS:
      umlProcessIndicators.push(x);
      break;

    case indicatorEnum.UML_CONTENT:
      umlContentIndicators.push(x);
      break;

    case indicatorEnum.UML_CONTENT_CD:
    umlContentIndicatorsCD.push(x);
    break;

    case indicatorEnum.UML_CONTENT_SC:
    umlContentIndicatorsSC.push(x);
    break;

    case indicatorEnum.DOC_PROCESS:
    docProcessIndicators.push(x);
    break;

    case indicatorEnum.DOC_CONTENT:
    docContentIndicators.push(x);
  }
}

function changeIndicatorValue (indicatorName, propertyName, updatedValue){
  var processIndex = umlProcessIndicators.indexOf(indicatorName);
  var contentIndex = umlContentIndicators.indexOf(indicatorName);

  if (processIndex != -1){
    umlProcessIndicators[processIndex].update (propertyName,updatedValue);
  }
  else if (contentIndex != 1){
    umlContentIndicators[contentIndex].update(propertyName,updatedValue);
  }

  else {
    Console.log("Indicator of the name " + indicatorName + " does not exist.");
  }
}

function createTable (object, tbody){
    var tBody = document.getElementById(tbody);
    for (var i = 0; i < object.length; i++) {
        var tr = "<tr>";
        tr += "<td><a style='cursor: pointer;' data-toggle= 'modal' data-target=#" + object[i].infoLink()+ ">" + object[i].longName() + "</a></td> ";

        if (object[i].adjustedValue() == 1) {
            tr += " <td><div class='progress'><div class='progress-bar progress-bar-danger' data-toggle= 'modal' data-target=#" + object[i].detailLink() + " role='progressbar' style='width: 20%' > <span><strong>" + object[i].adjustedValue() + "/5 </strong></span></div></div></td></tr>"
        }
        if (object[i].adjustedValue() == 2) {
            tr += " <td><div class='progress'><div class='progress-bar progress-bar-warning' data-toggle= 'modal' data-target=#" + object[i].detailLink() + " role='progressbar' style='width: 40%' > <span><strong>" + object[i].adjustedValue() + "/5 </strong></span></div></div></td></tr>"
        }
        if (object[i].adjustedValue() == 3) {
            tr += " <td><div class='progress'><div class='progress-bar progress-bar-warning' data-toggle= 'modal' data-target=#" + object[i].detailLink() + " role='progressbar' style='width: 60%' > <span><strong>" + object[i].adjustedValue() + "/5 </strong></span></div></div></td></tr>"
        }
        if (object[i].adjustedValue() == 4) {
            tr += " <td><div class='progress'><div class='progress-bar progress-bar-info' data-toggle= 'modal' data-target=#" + object[i].detailLink() + " role='progressbar' style='width: 80%' > <span><strong>" + object[i].adjustedValue() + "/5 </strong></span></div></div></td></tr>"
        }
        if (object[i].adjustedValue() == 5) {
            tr += " <td><div class='progress'><div class='progress-bar progress-bar-success' data-toggle= 'modal' data-target=#" + object[i].detailLink() + " role='progressbar' style='width: 100%' > <span><strong>" + object[i].adjustedValue() + "/5 </strong></span></div></div></td></tr>"
        }
        tBody.innerHTML += tr;
    }
}

    /* Global variables used to manipulate UI views */
    var score = 0;
    /* End of Global variable section */

    allData = {
        idProject : {{ data.idProject }},
        projectName : "{{data.ProjectName}}",
        projectURL : "{{ data.ProjectUrl }}",
        contributors : {{ data.Contributers }},
        documentName : "{{ data.DocumentName }}",
        docContributors : {{ data.docContributors }},
        allCommits : {{ data.NumberOfCommits }},
        umlCommits : {{ data.UMLCommits }},
        docCommits : {{ data.docCommits }},
        umlContributors : {{ data.umlContributors }},
        docSize : {{ data.DocumenSize }},
        aVsC : {{ data.AvsC }},
        asVsC : {{ data.ASvsC }},
        meVsC : {{ data.MevsC }},
        appm : {{ data.APPM }},
        depVsC : {{ data.DEPvsC }},
        dam : {{ data.DAM }},
        noc : {{ data.NOC }},
        noa : {{ data.NOA }},
        nom : {{ data.NOM }},
        classDiagram : "{{ data.classDiagram_link }}",
        sequenceDiagram : "{{ data.sequenceDiagram_link }}",
        usecaseDiagram : "{{ data.usecaseDiagram_link }}",
        stateDiagram : "{{ data.stateDiagram_link }}",
        activityDiagram : "{{ data.activityDiagram_link}}",
        isVersionControlled : {{data.isVersionControlled}},
        isEditable : {{data.isEditable}}

    };

temp = [];
    //push all data in array for when it's needed
    temp.push(allData);
    console.log(temp);
    var projName = allData.projectName;
    var reposName = projName.substring(projName.lastIndexOf("/") + 1, projName.length);
    var repoNameEl =  $('#repoName');
    var apiLink = $('#apiLink');
    var contributorsLinkEl = $('#contributorsLink');
    var repoLink = "https://github.com/"+ projName;
    var contibutorsLink = "https://github.com/" + projName +"/graphs/contributors";
    repoNameEl.attr("target" , '_blank');
    repoNameEl.attr("href" , repoLink);
    repoNameEl.append(reposName.bold());
    apiLink.attr("target" , '_blank');
    apiLink.attr("href" , allData.projectURL);
    apiLink.append(reposName.bold());
    contributorsLinkEl.attr("target" , "_blank");
    contributorsLinkEl.attr("href" , contibutorsLink);
    contributorsLinkEl.append(allData.contributors);

    /* RATIO VALUES */
    var commitRatio = allData.umlCommits / allData.allCommits;
    var docCommitRatio = allData.docCommits / allData.allCommits;
    var umlContributionRatio = allData.umlContributors / allData.contributors;
    var docContributionRatio = allData.docContributors / allData.contributors;
    commitRatio = commitRatio * 5;
    docCommitRatio = docCommitRatio * 5;
    var numDiagrams = 0;
    if (allData.classDiagram != "") numDiagrams++;
    if (allData.sequenceDiagram != "") numDiagrams++;
    if (allData.activityDiagram != "") numDiagrams++;
    if (allData.stateDiagram != "") numDiagrams++;
    if (allData.usecaseDiagram != "") numDiagrams++;
    var documentEvolution = allData.docSize / allData.umlCommits;
    documentEvolution = documentEvolution  * 5;
    addIndicator("AvsC",allData.aVsC, 0, 1, indicatorEnum.UML_CONTENT_CD);
    addIndicator("ASvsC",allData.asVsC, 0, 1, indicatorEnum.UML_CONTENT_CD);
    addIndicator("MevsC",allData.meVsC, 0, 1, indicatorEnum.UML_CONTENT_CD);
    addIndicator("APPM",allData.appm, 0, 1, indicatorEnum.UML_CONTENT_CD);
    addIndicator("DEPvsC",allData.depVsC, 1, 0, indicatorEnum.UML_CONTENT_CD);
    addIndicator("DAM",allData.dam, 0, 1, indicatorEnum.UML_CONTENT_CD);
    addIndicator("UML Commit Ratio", commitRatio, 0, 1, indicatorEnum.UML_PROCESS);
    //addIndicator("Document Evolution", documentEvolution, 0, 1, indicatorEnum.DOC_PROCESS);
    addIndicator("Document Commit Ratio", docCommitRatio, 0, 1, indicatorEnum.DOC_PROCESS);
    addIndicator("Document Contributor Ratio", docContributionRatio, 0, 1, indicatorEnum.DOC_PROCESS);
    addIndicator("UML Contributor Ratio", umlContributionRatio, 0, 1, indicatorEnum.UML_PROCESS);



// create graphs
window.onload = function() {


    $('.fbSharelink').click( function() {
        window.open('https://www.facebook.com/sharer/sharer.php?u='+ document.URL, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');
        return false;
    });

    $('.twitterShareLink').click( function() {
        window.open('https://twitter.com/share?url='+ document.URL+ "&amp;text=Check out the level of my documentation! &amp;hashtags=UMLNinja");
        return false;
    });

    var dataPointsPie = [];
    var dataPointsDoc = [];
    var dataPointsAvsC = [];
    var dataPointsASvsC = [];
    var dataPointsMEvsC = [];
    var dataPointsAPPM = [];
    var dataPointsDEPvsC = [];
    var dataPointsDAM = [];
    var dataPointsDocCommit = [];
    var dataPointsDocContribution = [];
    var dataPointsUMLContribution = [];

    dataPointsAvsC.push({y: allData.noc, label: "Number of Classes"});
    dataPointsAvsC.push({y: allData.noa, label: "Number of Attributes"});

    dataPointsASvsC.push({y: allData.noc, label: "Number of Classes"});
    dataPointsASvsC.push({y: allData.noc + 2, label: "Number of Associations"});

    dataPointsMEvsC.push({y: allData.nom, label: "Number of Methods"});
    dataPointsMEvsC.push({y: allData.noc, label: "Number of Classes"});

    dataPointsAPPM.push({y: allData.nom * 2 + 2, label: "Number of Parameters"});
    dataPointsAPPM.push({y: allData.nom, label: "Number of Methods"});

    dataPointsDEPvsC.push({y: allData.noc + 3, label: "Number of Dependencies"});
    dataPointsDEPvsC.push({y: allData.noc, label: "Number of Classes"});

    dataPointsDAM.push({y: allData.noa - 2, label: "Private Attributes"});
    dataPointsDAM.push({y:allData.noa - 4, label: "Protected Attributes"});
    dataPointsDAM.push({y: allData.noa, label: "Total Attributes"});


    dataPointsDocCommit.push({y: allData.allCommits , label : "All Commits" });
    dataPointsDocCommit.push({y: allData.docCommits , label : "Document Commits" });


    dataPointsDocContribution.push({y: allData.docContributors, label : "Document Contributors" });
    dataPointsDocContribution.push({y: allData.contributors , label : "All Contributors" });



    dataPointsPie.push({y: allData.allCommits , label : "All Commits" });
    dataPointsPie.push({y: allData.umlCommits , label : "UML Commits" });


    dataPointsUMLContribution.push({y: allData.contributors , label : "All Contributors" });
    dataPointsUMLContribution.push({y: allData.umlContributors , label : "UMl Contributors" });
    // data for  doc evolution
    dataPointsDoc.push({y: allData.docSize , label : "Document Size, in MB" });
    dataPointsDoc.push({y: allData.umlCommits , label : "Number of UML Commits" });
    createTable(umlProcessIndicators, 'uml-process-table');
    createTable(umlContentIndicators , 'uml-content-table');
    createTable(umlContentIndicatorsCD , 'uml-content-table-cd');
    createTable(umlContentIndicatorsSC , 'uml-content-table-sc');
    createTable(docProcessIndicators, 'doc-process-table');
    createTable(docContentIndicators, 'doc-content-table');
    allData.isVersionControlled === 1 ? ($('#versionControlled').show() , score+=2) : $('#notVerionControlled').show();
    allData.isEditable === 1 ? ($('#docEditable').show() , score+=2) : $('#notEditable').show();
    allData.classDiagram != "" ? ($('#containsCD').show() , score+=2): $('#notContainsCD').show();
    allData.sequenceDiagram != "" ? ($('#containsSD').show() , score+=2) : $('#notContainsSD').show();
    allData.activityDiagram != "" ? ($('#containsAD').show() , score+=2) : $('#notContainsAD').show();
    allData.usecaseDiagram != "" ? ($('#containsUD').show() , score+=2) : $('#notContainsUD').show();

    var cdLink = allData.classDiagram;
    console.log(cdLink);

    $('#cdImg').attr("src",cdLink);
    if(allData.classDiagram != 'www.test.classdiagram.com'){
        $("#cdModalLink").show();
        $("#cdLink").attr("target", '_blank');
        $("#cdLink").attr("href", allData.classDiagram);
    }

    var chart = new CanvasJS.Chart("chartContainer", {
        exportEnabled: true,
        animationEnabled: true,
        title: {
            text: "All Commits vs. UML Commits"
        },
        theme: "theme2",
        legend: {
            cursor : "pointer",
            itemclick: explodePie
        },
        data: [{
            type: "column",
            showInLegend: false,
            startAngle: 240,
            dataPoints: dataPointsPie
        }]
    });
    chart.render();
    $('#commitRatio').html("Commit ratio: " + commitRatio.toFixed(2).bold().big());

    var docChart = new CanvasJS.Chart("docChartContainer", {
        exportEnabled: true,
        animationEnabled: true,
        title: {
            text: "Document Size vs. UML Commits"
        },
        theme: "theme2",
        legend: {
            cursor : "pointer",
            itemclick: explodePie
        },
        data: [{
            type: "column",
            startAngle: 240,
            dataPoints: dataPointsDoc

        }]
    });
    $('#docEvolution').html("Document Evolution: " + documentEvolution.toFixed(3).bold().big());
    docChart.render();

    var avscChart = new CanvasJS.Chart("avsc-chart", {
        exportEnabled: true,
        animationEnabled: true,
        title: {
            text: "AvsC"
        },
        theme: "theme2",
        legend: {
            cursor : "pointer",
            itemclick: explodePie
        },
        data: [{
            type: "column",
            startAngle: 240,
            dataPoints: dataPointsAvsC
        }]
    });
    $('#avsc-chart-info').html("AvsC: " + umlContentIndicatorsCD.find(item => item.name === "AvsC").value.toFixed(3).bold().big());
    avscChart.render();

    var asvscChart = new CanvasJS.Chart("asvsc-chart", {
        exportEnabled: true,
        animationEnabled: true,
        title: {
            text: "AvsC"
        },
        theme: "theme2",
        legend: {
            cursor : "pointer",
            itemclick: explodePie
        },
        data: [{
            type: "column",
            startAngle: 240,
            dataPoints: dataPointsASvsC
        }]
    });
    $('#asvsc-chart-info').html("ASvsC: " + umlContentIndicatorsCD.find(item => item.name === "ASvsC").value.toFixed(3).bold().big());
    asvscChart.render();

    var mevscChart = new CanvasJS.Chart("mevsc-chart", {
        exportEnabled: true,
        animationEnabled: true,
        title: {
            text: "MevsC"
        },
        theme: "theme2",
        legend: {
            cursor : "pointer",
            itemclick: explodePie
        },
        data: [{
            type: "column",
            startAngle: 240,
            dataPoints: dataPointsMEvsC
        }]
    });
    $('#mevsc-chart-info').html("MevsC: " + umlContentIndicatorsCD.find(item => item.name === "MevsC").value.toFixed(3).bold().big());
    mevscChart.render();

    var appmChart = new CanvasJS.Chart("appm-chart", {
        exportEnabled: true,
        animationEnabled: true,
        title: {
            text: "APPM"
        },
        theme: "theme2",
        legend: {
            cursor : "pointer",
            itemclick: explodePie
        },
        data: [{
            type: "column",
            startAngle: 240,
            dataPoints: dataPointsAPPM
        }]
    });
    $('#appm-chart-info').html("APPM: " + umlContentIndicatorsCD.find(item => item.name === "APPM").value.toFixed(3).bold().big());
    appmChart.render();

    var depvscChart = new CanvasJS.Chart("depvsc-chart", {
        exportEnabled: true,
        animationEnabled: true,
        title: {
            text: "DEPvsC"
        },
        theme: "theme2",
        legend: {
            cursor : "pointer",
        },
        data: [{
            type: "column",
            showInLegend: false,
            startAngle: 240,
            dataPoints: dataPointsDEPvsC
        }]
    });
    $('#depvsc-chart-info').html("DEPvsC: " + umlContentIndicatorsCD.find(item => item.name === "DEPvsC").value.toFixed(3).bold().big());
    depvscChart.render();

    var damChart = new CanvasJS.Chart("dam-chart", {
        exportEnabled: true,
        animationEnabled: true,
        title: {
            text: "DAM"
        },
        theme: "theme2",
        legend: {
            cursor : "pointer",
        },
        data: [{
            type: "column",
            showInLegend: false,
            startAngle: 240,
            dataPoints: dataPointsDAM
        }]
    });
    $('#dam-chart-info').html("DAM: " + umlContentIndicatorsCD.find(item => item.name === "DAM").value.toFixed(3).bold().big());
    damChart.render();

    //  Document Commit Ratio Chart
    var docCommitRatioChartContainer = new CanvasJS.Chart("docCommitRatioChartContainer", {
        exportEnabled: true,
        animationEnabled: true,
        title: {
            text: "All Commits vs. Document Update Commits"
        },
        theme: "theme2",
        legend: {
            cursor : "pointer",
        },
        data: [{
            type: "column",
            showInLegend: false,
            startAngle: 240,
            dataPoints: dataPointsDocCommit

        }]
    });
    $('#docCommitRatio').html("Document Commit Ratio: " + docCommitRatio.toFixed(2).bold().big());
    docCommitRatioChartContainer.render();

    //  Document Contribution Ratio Chart
    var docContributionRatioChartContainer = new CanvasJS.Chart("docContributionChartContainer", {
        exportEnabled: true,
        animationEnabled: true,
        title: {
            text: "All Commits vs. Document Update Commits"
        },
        theme: "theme2",
        legend: {
            cursor : "pointer",
        },
        data: [{
            type: "column",
            showInLegend: false,
            startAngle: 240,
            dataPoints: dataPointsDocContribution

        }]
    });
    $('#docContributionRatio').html("Document Contribution Ratio: " + docContributionRatio.toFixed(2).bold().big());
    docContributionRatioChartContainer.render();

    // UML Contributor ratio Chart
    var umlContributionChartContainer = new CanvasJS.Chart("umlContributionChartContainer", {
        exportEnabled: true,
        animationEnabled: true,
        title: {
            text: "All Contributors vs. UML Contributors"
        },
        theme: "theme2",
        legend: {
            cursor : "pointer",
            itemclick: explodePie
        },
        data: [{
            type: "column",
            showInLegend: false,
            startAngle: 240,
            dataPoints: dataPointsUMLContribution

        }]
    });
    umlContributionChartContainer.render();
    $('#umlContributionRatio').html("UML Contributor ratio: " + umlContributionRatio.toFixed(2).bold().big());

//From Canvasjs
function explodePie (e) {
    if(typeof (e.dataSeries.dataPoints[e.dataPointIndex].exploded) === "undefined" || !e.dataSeries.dataPoints[e.dataPointIndex].exploded) {
        e.dataSeries.dataPoints[e.dataPointIndex].exploded = true;
    } else {
        e.dataSeries.dataPoints[e.dataPointIndex].exploded = false;
    }
    e.chart.render();
}

    // Sum up score from the indicators
    for(var i = 0; i< umlProcessIndicators.length; i++){
        score += umlProcessIndicators[i].adjustedValue();
    }
    for(var i = 0; i< umlContentIndicators.length; i++){
        score += umlContentIndicators[i].adjustedValue();
    }
    for(var i = 0; i< umlContentIndicatorsCD.length; i++){
        score += umlContentIndicatorsCD[i].adjustedValue();
    }
    for(var i = 0; i< docProcessIndicators.length; i++){
        score += docProcessIndicators[i].adjustedValue();
    }
    for(var i = 0; i< docContentIndicators.length; i++){
        score += docContentIndicators[i].adjustedValue();
    }

    $('#score').append(score + '/' + 62);
    var scorePercentage = ((score / 62) * 100);
    $('#OScorePercentage').append(scorePercentage.toFixed().bold().big() + "%");
    var umlScorePercentage = ((score - 14) / 48) * 100;
    $('#umlScore').append((score - 14) + '/' + 48 );
    $('#umlScorePercentage').append( umlScorePercentage.toFixed().bold().big() + "%");

    //$('#projectLevel').append("<div style='text-align: center; height: 14px; width: 97%;' class='progress'><div class='progress-bar progress-bar-danger' role='progressbar' style='text-align: center;  width: 20%'</div></div>");

    if (scorePercentage <= 20){
        $('#projectLevel').append('BASIC!')
        $('#projectLevelRange').append("<div  style=' font-weight: lighter; font-size: 12px; opacity:0.5;'><b>Basic</b> > Developing > Good > Great > Excellent</div>");
    } else if(scorePercentage > 20 && scorePercentage <= 50){
        $('#projectLevel').append('<h1 style="font-weight: bolder; font-size: 0.7em" class="devLev">DEVELOPING!<h1/>')
        $('#projectLevelRange').append("<div  style=' font-weight: lighter; font-size: 12px; opacity:0.5;'>Basic > <b>Developing</b> > Good > Great > Excellent</div>");
    }else if(scorePercentage > 50 && scorePercentage < 60){
        $('#projectLevel').append('GOOD!');
        $('#projectLevelRange').append("<div  style=' font-weight: lighter; font-size: 12px; opacity:0.5;'>Basic > Developing > <b>Good</b> > Great > Excellent</div>");
    }else if(scorePercentage > 60 && scorePercentage <= 80){
        $('#projectLevel').append('GREAT!!');
        $('#projectLevelRange').append("<div  style=' font-weight: lighter; font-size: 12px; opacity:0.5;'>Basic > Developing > Good > <b>Great</b> > Excellent</div>");
    }else if(scorePercentage > 80){
        $('#projectLevel').append('EXCELLENT!!!');
        $('#projectLevelRange').append("<div  style=' font-weight: lighter; font-size: 12px; opacity:0.5;'><>Basic > Developing > Good > Great > <b>Excellent</b></div>");

    }

    if(scorePercentage >= 50){
        $('.fireworks').delay(1000).show(0).delay(4000).fadeOut("slow");
    }
}
</script>

<script src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
<script src="https://canvasjs.com/assets/script/jquery.canvasjs.min.js"></script>
</body>
</html>
